# Chat UI
> Small chat app(the goal of app is to play with socket io)

## Table of Contents

- [Where to find demo](http://faradey27.github.io/chat-ui)
- [Quickstart](#quickstart)
  - [Prerequisites](#prerequisites)
  - [How to run localy](#how-to-run-localy)
- [Commands](#commands)
  - [npm start](#npm-start)
  - [npm test](#npm-test)
  - [npm run build](#npm-run-build)
- [Design](#design)
  - [Folder Structure](#folder-structure)
  - [State managment](#state-managment)
  - [Styling](#styling)
  - [Performance and bundle size](#performance-and-bundle-size)
  - [Server side rendering](#server-side-rendering)
- [Costs](#costs)
- [Supported Browsers](#supported-browsers)
- [License](#license)

## Quickstart

TODO

### Prerequisites

TODO

### How to run localy

TODO

## Commands

In the project directory, you can run:

### `npm start`

Runs the app in the development mode.<br>
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

The page will reload if you make edits.<br>
You will also see any lint errors in the console.

### `npm test`

Launches the test runner in the interactive watch mode.<br>

### `npm run build`

Builds the app for production to the `build` folder.<br>
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.<br>
Your app is ready to be deployed!

## Design

For this app, I decided to use [React](https://reactjs.org/) for V part of application and [Redux](https://redux.js.org/) for application state management.
Some part of my motivation about these technologies will be in other parts of this doc.

Briefly, React provide for us good and really flexible solution for View layer + some trivial state management out of the box.
Also, it will provide for us components which will help us make the app more simple and stable(as it easy to work with independt parts).
And last good thing, React one of the most popular libraries in FE community, so it is really easy to find answers to any questions and to find libs that you need.
(Angular 4, Ember, Vue, etc. also provide smth like this, but they are very different from React and provide more complex(all-in-one) solutions,
which we could disscuss in PM)

Let us begin from small UML-like diagram to describe main parts of our app and relations between them

![](./docs/Chat-ui-diagram.png)

Small notes about it:
We will have a provider which will provide for our store and give us the ability to select data from it and to dispatch actions.
We will have several clever components - Containers, they will retrieve data from the store and send it to children + handle actions.
We will have SocketIO and Local/Session storage connectors, they will communicate with the main container and redux(initial state).

Note:
At start, i was thinking about Typescript, but as application really small, Typescript will not make development much faster or safer than without types.
Also current about do not have any routing - because it not required, in future we will start to use React-router

### Folder Structure

I stoped on such folder Structure

```
chat-ui/
  README.md
  COSTS.md
  node_modules/
  package.json
  public/
    index.html
    favicon.ico
  src/
    assets/
    data/
      messages/
        actions/
        reducers/
        ...
      ...
    components/
      MessageText/
      MessageDate/
      SendButton/
      ...
    containers/
      Chat/
      MessageListArea/
      ...
    services/
      LocalStorageService/
      SocketsService/
    utils/
      ...
    index.css
    index.js
```

So we will have
Components - shared via whole app components
Containers - our clever components
Data - here we will have all things related to the data layer, like redux, etc.
Services - some big helper features

Notes:
If the application will become bigger and we would like to have more features, not just simple chat(maybe users list, etc)
We could start to think about `modules`(feature folders), each feature folder will have own reducers, actions, containers, etc.
But for a current small app, we do not need to do this and it will be easy to move to modules approach in future.

### State managment

For state management we will use Redux + clever/dump components approach.(Redux is one of the Flux implementation, which is alternative for MVC, MVP, etc..)
To not dependend on store directly and provide way to update store structure without brokening whole app we will do selection from store via `selectors` approach(selectUsersWithAgeBigger10(state))
As we use sockets for communication with server and other clients, we do not need to worry about async actions currently(in future we will think about thunk and maybe smth for side effects).

### Styling

There tonn of ways how to style components:
 - css modules
 - vanilla css(BEM, etc.)
 - inline styles
 - css in js

For this app, i decided to stop on CSS in js, as a compromise solution between performance, native css features, and developer experience.
There are tons of libs for this - I have chosen an emotion, they provide tiny size and good performance.

### Performance and bundle size

For performance monitoring I am using:
 - chrome performance tab(with nice React integration)
 - chrome memory tab
 - chrome audits

For bundle size:
 - webpack-bundle-analyzer

In future

### Testing

### Server side rendering



## Costs
Here you could find my estimates about project.

[Costs](./COSTS.md)

## Supported browsers
  - Chrome 64

Maybe also other browsers, but I have not tested this.

## License
[Apache License 2.0](./LICENSE)
